{
    "min_packer_version": "1.3.2",
    "variables": {
        "aws_profile": "{{ env `AWS_PROFILE` }}",
        "ssh_name": "ubuntu",
        "ssh_key_path": "{{ env `SSH_KEY_PATH` }}",
        "aws_region": "us-west-2"
    },
    "builders": [{
        "type": "amazon-ebs",
        "region": "{{ user `aws_region` }}",
        "source_ami": "ami-0bbe6b35405ecebdb",
        "profile": "{{ user `aws_profile` }}",
        "instance_type": "t2.micro",
        "ami_name": "terraform-packer-aiohttp-react-{{timestamp}}",
        "ssh_username": "{{ user `ssh_name` }}",
        "ssh_private_key_file": "{{ user `ssh_key_path` }}"
    }],
    "provisioners": [{
        "type": "shell",
        "script": "packer_setup.sh"
    }]
}
